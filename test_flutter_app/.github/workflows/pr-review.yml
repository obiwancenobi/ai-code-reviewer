name: AI Code Review

on:
  pull_request:
    types: [opened, synchronize, reopened]

jobs:
  ai-review:
    uses: obiwancenobi/ai-code-reviewer/.github/workflows/ai-code-review.yml@main
    with:
      model: ${{ vars.AI_MODEL || 'minimax/minimax-m2:free' }}
      actor_role: ${{ vars.ACTOR_ROLE || 'Senior Mobile Engineer' }}
    secrets:
      openrouter_api_key: ${{ secrets.OPENROUTER_API_KEY }}
      discord_webhook_url: ${{ secrets.DISCORD_WEBHOOK_URL }}